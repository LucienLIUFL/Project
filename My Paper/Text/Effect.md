# 特效设计

特效是整个游戏当中比较富有创意性的工作,并且也是难度比较大的部分,因为特效涉及到素材,设计,
和如何实现的问题.首先要找到合适的素材,这些素材往往比较粗糙,并且比较简单.根据这些素材,开发者需要在脑海中构建想要做成的动画或者光效.这部分往往要考验开发者的艺术修养和创意.第三步才是根据脑海中的构想进行实现,这也是比较困难的工作,因为往往人们并不知道一个好的特效需要使用怎样的效果才能制作出来,参考别人的作品是很好的方式,但是凭借肉眼是难以辨认出复杂的光效设计.
因此,制作光效还需要不断的进行尝试,修改.

在我的游戏当中,要设计和实现三种光效:
1. 子弹击中飞机后产生的打击特效
2. 飞机爆炸后的爆炸特效
3. 登陆界面的闪光光效

## 打击特效设计

我们使用一张静态的打击图片进行打击特效的处理,

[]

打击特效有两个过程,第一是变大,其精灵帧会有一个扩张的过程,然后是淡出,营造火花慢慢消失的效果.
同时为了使得打击特效的火花与背景进行更好的融合,我是用了颜色混合,渲染引擎会自动根据渲染函数对多层的精灵帧进行颜色混合,使得风格更加统一.

## 爆炸特效处理

爆炸特效是一种比较难以模拟的特效,因此不能使用单张静态的图片的方式进行模拟,但是我们可以使用连续的静态图片连续播放的方式,将其作为一个帧动画进行播放.

[]

资源中共有35张静态的爆炸图,在游戏的加载阶段,这些静态图片被动画引擎保存为帧动画,使用时我们直接从缓存中调用,这样避免了大量重复加载的资源浪费.

## 闪光光效设计

我们使用一张静态的图片,并对这个图片加上各种动作进行处理,使其成为一个比较精致的闪光特效.

[原图]

缓冲效果,是一种处理特效的常用手段,顾名思义,它可以将一个动作的执行过程变为动态的.比如,
一个精灵从 A 点移动到 B 点, AB 两点之间的距离为 X,移动的持续时间为 t.则精灵的移动速度为

[来个公式,v=X/t]

这个速度值将会在整个移动期间保持恒定,也就是一个匀速运动,如果用曲线进行表示
那么如图

[坐标图]

但是在实际生活中,我们的移动往往不是保持恒定.因此使用缓冲效果可以将其改变,我们保持精灵的移动距离 X与移动时间 t 不变,但是在移动的图中动态改变速度 V,也就是说保持图像的横坐标和积分不变,但是改变曲线的形式.用积分式可以表示为

[萌萌哒积分式]

比如下图是一个 Sin 减缓函数.

[萌萌哒图像]

为了更加清晰的表示,我们可以将公式表达为更加通用的形式.

[通用公式形式]

除了移动动作, cocos2d-x 支持多种的动作,这些动作都可以使用函数进行减缓,使得可以保持更加精致的效果.因此我们可以将距离 X更改为更加通用的参数.

[最终公式]

以下是一些函数减缓的图像.

### 光效正文
在我们的设计中,闪光光效的开始位置被设置到屏幕外

[]

首先进行了一个淡入,玩家此时可以看到一个从中间散开的光晕,

然后进行淡出,光晕消失,图片慢慢变大,
然后从屏幕外移动进屏幕,最后执行旋转操作.

在我们的闪光特效中,我们使用了Sine移动减缓,Sine增大减缓, ExponentialOut减缓,
以下是它们的减缓图像.

使用以上的动作组合,最终形成了最后的闪光光效.
