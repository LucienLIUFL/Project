# 游戏主场景的设计与实现
游戏主场景是玩家进行游戏的主要场景,是整个游戏设计中最复杂最核心的部分,因为这个部分较为复杂,并且涉及到多种处理逻辑和渲染逻辑,因此我们不能将这个场景简单的使用原先的单层设计,而是要进行游戏逻辑的模块化处理,和渲染逻辑的分层化处理.
## 简单介绍
对于游戏逻辑的模块化,我们将其分为:
1. 触摸逻辑模块,主要负责实现与用户的触摸事件的响应操作.
2. 碰撞逻辑模块,主要负责实现整个游戏碰撞逻辑响应操作.
3. 精灵模型模块,实现游戏中所使用的4中游戏精灵模型.
4. 光效模块,负责设计与实现游戏中使用的光效.
5. 资源管理模块,负责管理游戏中的游戏资源,比如贴图,音效等.
6. 轨迹创建模块,负责创建游戏精灵对象的移动轨迹.

而对于游戏分层的设计,我们可以将其分为:
1. 背景层,这一层实现一个飞机向前飞行的效果,主要是背景图的滚动处理,这一层没有任何的事件的监听.
2. 物理层,这一层是游戏的主要层,本层的创建使用了物理引擎来监听碰撞事件,同时这一层接受触摸事件的监听,并根据监听做出相应,本层的精灵全部创建物理刚体,并设置碰撞标识符.
3. 标签层,这一层比较简单,主要是渲染与游戏有关的两个信息,玩家生命值,与玩家已获得的分数.同样不监听事件,将触摸事件向物理层传递.

各个模块与分层之间的关系表示如下: