# 游戏结束场景的设计与实现

游戏结束场景是所有的场景中最简单的一个,其需要实现的功能有
1. 显示分数以及游戏结束的标识
2. 提供重新开始的按钮

场景层采用两段式实例化,并在 init 方法中传递分数.实现一个场景实例化的静态方法,并在此方法中尽心层创建并将层加入场景.

## 传递分数
我们给结束层添加一个分数属性,在层创建的时候将属性进行初始化,并将分数标签的渲染代码放入 onEnter 方法中,因为如果放入 init 方法中,标签的渲染就会在层实例化之前就已经完毕,而此时的标签值为初始化之前的值,为不确定的.放入 onEnter 方法可以保证标签可以在实例化完成之后并全部进入场景后进行渲染,保证了分数的正确性.

## 添加重新开始按钮

重新开始按钮的监听为当按钮被按下,则创建一个延时事件,和一个场景切换事件,在延时时间的同时,创建一个闪光特效.延时事件保证了闪光特效完全播放完毕后才进入场景切换.两个事件由当前层顺序执行.

## 游戏结束场景展示

[]